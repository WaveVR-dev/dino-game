<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Colorful Dino Game</title>
<style>
  body { margin: 0; background: #87CEEB; overflow: hidden; }
  canvas { display: block; margin: auto; background: #87CEEB; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="600" height="300"></canvas>
<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

// Game settings
const player = { x: 50, y: 240, width: 40, height: 40, velY: 0, jump: false };
const gravity = 1;
let obstacles = [];
let obstacleSpeed = 5;
let frameCount = 0;
let score = 0;
let gameOver = false;

// Colors
const obstacleColors = ["#ED1C24", "#FF7F27", "#FFF200", "#8B4513"];
const playerColor = "#22B14C";
const groundHeight = 20;

// Draw ground
function drawGround() {
  ctx.fillStyle = "#22B14C";
  ctx.fillRect(0, canvas.height - groundHeight, canvas.width, groundHeight);
}

// Draw player
function drawPlayer() {
  ctx.fillStyle = playerColor;
  ctx.fillRect(player.x, player.y, player.width, player.height);
}

// Draw obstacles
function drawObstacles() {
  obstacles.forEach(obs => {
    ctx.fillStyle = obs.color;
    ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
  });
}

// Spawn obstacles
function spawnObstacle() {
  const obs = {
    x: canvas.width,
    y: canvas.height - groundHeight - 40,
    width: 20,
    height: 40,
    color: obstacleColors[Math.floor(Math.random() * obstacleColors.length)]
  };
  obstacles.push(obs);
}

// Collision detection
function checkCollision() {
  const playerRect = player;
  for (let obs of obstacles) {
    if (playerRect.x < obs.x + obs.width &&
        playerRect.x + playerRect.width > obs.x &&
        playerRect.y < obs.y + obs.height &&
        playerRect.height + playerRect.y > obs.y) {
      gameOver = true;
    }
  }
}

// Draw score
function drawScore() {
  ctx.fillStyle = "#000";
  ctx.font = "20px Arial";
  ctx.fillText("Score: " + score, 10, 25);
}

// Game loop
function gameLoop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw background and ground
  ctx.fillStyle = "#87CEEB";
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  drawGround();

  // Player physics
  player.velY += gravity;
  player.y += player.velY;
  if (player.y >= canvas.height - groundHeight - player.height) {
    player.y = canvas.height - groundHeight - player.height;
    player.velY = 0;
    player.jump = false;
  }

  // Spawn obstacles
  frameCount++;
  if (frameCount % 90 === 0) spawnObstacle();

  // Move obstacles
  obstacles.forEach(obs => obs.x -= obstacleSpeed);

  // Remove off-screen obstacles and increase score
  obstacles = obstacles.filter(obs => {
    if (obs.x + obs.width < 0) {
      score++;
      return false;
    }
    return true;
  });

  // Check collision
  checkCollision();

  // Draw player and obstacles
  drawPlayer();
  drawObstacles();

  // Draw score
  drawScore();

  // Increase difficulty
  if (score % 10 === 0 && score !== 0) obstacleSpeed = 5 + score * 0.05;

  if (!gameOver) {
    requestAnimationFrame(gameLoop);
  } else {
    ctx.fillStyle = "#000";
    ctx.font = "40px Arial";
    ctx.fillText("Game Over!", canvas.width / 2 - 120, canvas.height / 2 - 20);
    ctx.font = "20px Arial";
    ctx.fillText("Press SPACE to Restart", canvas.width / 2 - 100, canvas.height / 2 + 20);
  }
}

// Restart game
function restartGame() {
  obstacles = [];
  obstacleSpeed = 5;
  frameCount = 0;
  score = 0;
  gameOver = false;
  player.y = canvas.height - groundHeight - player.height;
  player.velY = 0;
  player.jump = false;
  gameLoop();
}

// Handle key press
document.addEventListener("keydown", function(e) {
  if (e.code === "Space") {
    if (!player.jump && !gameOver) {
      player.velY = -15;
      player.jump = true;
    }
    if (gameOver) restartGame();
  }
});

// Start game
gameLoop();
</script>
</body>
</html>
